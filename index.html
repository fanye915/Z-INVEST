<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Z-INVEST æŠ•èµ„ç»„åˆè¿½è¸ª</title>
<style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: "Microsoft Yahei", Arial, sans-serif; }
        body { background-color: #f0f2f5; padding: 30px 20px; }
        .container { max-width: 1200px; margin: 0 auto; }
        h1 { text-align: center; color: #1d2129; margin-bottom: 20px; font-size: 28px; font-weight: 600; }
        .refresh-hint { text-align: center; color: #86909c; margin-bottom: 30px; font-size: 14px; }
        .portfolio-card { background: #ffffff; border-radius: 12px; padding: 25px; margin-bottom: 30px; box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08); }
        .portfolio-title { font-size: 22px; color: #1d2129; margin-bottom: 20px; padding-bottom: 10px; border-bottom: 2px solid #f0f2f5; }
        .summary-row { display: flex; gap: 40px; margin-bottom: 25px; padding: 15px 20px; background-color: #f8f9fa; border-radius: 8px; flex-wrap: wrap; }
        .summary-item { text-align: center; }
        .summary-label { font-size: 13px; color: #86909c; display: block; margin-bottom: 6px; }
        .summary-value { font-size: 18px; font-weight: 600; color: #1d2129; }
        .profit-positive { color: #00b42a; }
        .profit-negative { color: #f53f3f; }
        table { width: 100%; border-collapse: collapse; margin-bottom: 15px; }
        table thead tr { background-color: #f7f8fa; }
        table th, table td { padding: 14px 12px; text-align: right; border-bottom: 1px solid #f0f0f0; font-size: 14px; }
        table th { font-weight: 600; color: #4e5969; text-align: left; }
        table td:first-child, table th:first-child { text-align: left; }
        .update-time { text-align: right; font-size: 12px; color: #86909c; margin-top: 10px; }
        .loading { color: #3b82f6; }
    </style>
</head>
<body>
<div class="container">
<h1>Z-INVEST æŠ•èµ„ç»„åˆè¿½è¸ªï¼ˆ100ä¸‡ä»“ä½ï¼‰</h1>
<p class="refresh-hint">ğŸ’¡ æ‰“å¼€ç½‘é¡µè‡ªåŠ¨è·å–å®æ—¶æ•°æ®ï¼Œæ•°æ®ä¸å¯¹è¯·åˆ·æ–°é¡µé¢</p>
<!-- Aè‚¡ç»„åˆ -->
<div class="portfolio-card">
<h2 class="portfolio-title">Aè‚¡ç²¾é€‰ç»„åˆï¼ˆäººæ°‘å¸/100ä¸‡ä»“ä½ï¼‰</h2>
<div class="summary-row">
<div class="summary-item">
<span class="summary-label">æ€»æˆæœ¬ï¼ˆå…ƒï¼‰</span>
<span class="summary-value">1000000.00</span>
</div>
<div class="summary-item">
<span class="summary-label">å½“å‰ä»·å€¼ï¼ˆå…ƒï¼‰</span>
<span class="summary-value" id="a-total-value">1000008.99</span>
</div>
<div class="summary-item">
<span class="summary-label">æ€»æ”¶ç›Šï¼ˆå…ƒï¼‰</span>
<span class="profit-positive" id="a-total-profit">8.99</span>
</div>
<div class="summary-item">
<span class="summary-label">æ”¶ç›Šç‡</span>
<span class="summary-value" id="a-total-rate">0.00%</span>
</div>
</div>
<table>
<thead>
<tr>
<th>ä»£ç </th>
<th>åç§°</th>
<th>æŒä»“æ•°é‡</th>
<th>æˆæœ¬ä»·ï¼ˆå…ƒï¼‰</th>
<th>å®æ—¶ä»·ï¼ˆå…ƒï¼‰</th>
<th>æˆæœ¬æ€»é¢ï¼ˆå…ƒï¼‰</th>
<th>å½“å‰æ€»é¢ï¼ˆå…ƒï¼‰</th>
<th>æ”¶ç›Šï¼ˆå…ƒï¼‰</th>
<th>æ”¶ç›Šç‡</th>
</tr>
</thead>
<tbody id="a-table">
<tr><td>513390</td><td>çº³æŒ‡100ETF</td><td>119047.62</td><td>2.10</td><td class="loading">åŠ è½½ä¸­...</td><td>250000.00</td><td class="loading">åŠ è½½ä¸­...</td><td class="loading">åŠ è½½ä¸­...</td><td class="loading">åŠ è½½ä¸­...</td></tr>
<tr><td>159652</td><td>æœ‰è‰²50ETF</td><td>35260.93</td><td>7.09</td><td class="loading">åŠ è½½ä¸­...</td><td>250000.00</td><td class="loading">åŠ è½½ä¸­...</td><td class="loading">åŠ è½½ä¸­...</td><td class="loading">åŠ è½½ä¸­...</td></tr>
<tr><td>588200</td><td>ç§‘åˆ›èŠ¯ç‰‡ETF</td><td>23300.00</td><td>10.73</td><td class="loading">åŠ è½½ä¸­...</td><td>250000.00</td><td class="loading">åŠ è½½ä¸­...</td><td class="loading">åŠ è½½ä¸­...</td><td class="loading">åŠ è½½ä¸­...</td></tr>
<tr><td>515880</td><td>é€šä¿¡ETF</td><td>29469.55</td><td>5.09</td><td class="loading">åŠ è½½ä¸­...</td><td>150000.00</td><td class="loading">åŠ è½½ä¸­...</td><td class="loading">åŠ è½½ä¸­...</td><td class="loading">åŠ è½½ä¸­...</td></tr>
<tr><td>518880</td><td>é»„é‡‘ETF</td><td>22727.27</td><td>4.40</td><td class="loading">åŠ è½½ä¸­...</td><td>100000.00</td><td class="loading">åŠ è½½ä¸­...</td><td class="loading">åŠ è½½ä¸­...</td><td class="loading">åŠ è½½ä¸­...</td></tr>
</tbody>
</table>
<div class="update-time" id="a-update-time">æ•°æ®æ›´æ–°æ—¶é—´: 2026-02-27 04:59:26</div>
</div>
<!-- æ¸¯è‚¡ç»„åˆ -->
<div class="portfolio-card">
<h2 class="portfolio-title">æ¸¯è‚¡ä»·å€¼ç»„åˆï¼ˆæ¸¯å¸/100ä¸‡ä»“ä½ï¼‰</h2>
<div class="summary-row">
<div class="summary-item">
<span class="summary-label">æ€»æˆæœ¬ï¼ˆæ¸¯å¸ï¼‰</span>
<span class="summary-value">1000000.00</span>
</div>
<div class="summary-item">
<span class="summary-label">å½“å‰ä»·å€¼ï¼ˆæ¸¯å¸ï¼‰</span>
<span class="summary-value" id="hk-total-value">999999.97</span>
</div>
<div class="summary-item">
<span class="summary-label">æ€»æ”¶ç›Šï¼ˆæ¸¯å¸ï¼‰</span>
<span class="profit-negative" id="hk-total-profit">-0.03</span>
</div>
<div class="summary-item">
<span class="summary-label">æ”¶ç›Šç‡</span>
<span class="summary-value" id="hk-total-rate">-0.00%</span>
</div>
</div>
<table>
<thead>
<tr>
<th>ä»£ç </th>
<th>åç§°</th>
<th>æŒä»“æ•°é‡</th>
<th>æˆæœ¬ä»·ï¼ˆæ¸¯å¸ï¼‰</th>
<th>å®æ—¶ä»·ï¼ˆæ¸¯å¸ï¼‰</th>
<th>æˆæœ¬æ€»é¢ï¼ˆæ¸¯å¸ï¼‰</th>
<th>å½“å‰æ€»é¢ï¼ˆæ¸¯å¸ï¼‰</th>
<th>æ”¶ç›Šï¼ˆæ¸¯å¸ï¼‰</th>
<th>æ”¶ç›Šç‡</th>
</tr>
</thead>
<tbody id="hk-table">
<tr><td>03455</td><td>çº³æŒ‡100ETF</td><td>25000.00</td><td>10.00</td><td class="loading">åŠ è½½ä¸­...</td><td>250000.00</td><td class="loading">åŠ è½½ä¸­...</td><td class="loading">åŠ è½½ä¸­...</td><td class="loading">åŠ è½½ä¸­...</td></tr>
<tr><td>03132</td><td>å…¨çƒåŠå¯¼ä½“ETF</td><td>25000.00</td><td>8.00</td><td class="loading">åŠ è½½ä¸­...</td><td>200000.00</td><td class="loading">åŠ è½½ä¸­...</td><td class="loading">åŠ è½½ä¸­...</td><td class="loading">åŠ è½½ä¸­...</td></tr>
<tr><td>03147</td><td>ä¸­å›½åˆ›ä¸šæ¿ETF</td><td>40000.00</td><td>5.00</td><td class="loading">åŠ è½½ä¸­...</td><td>200000.00</td><td class="loading">åŠ è½½ä¸­...</td><td class="loading">åŠ è½½ä¸­...</td><td class="loading">åŠ è½½ä¸­...</td></tr>
<tr><td>03110</td><td>æ’ç”Ÿé«˜è‚¡æ¯ETF</td><td>33333.33</td><td>6.00</td><td class="loading">åŠ è½½ä¸­...</td><td>200000.00</td><td class="loading">åŠ è½½ä¸­...</td><td class="loading">åŠ è½½ä¸­...</td><td class="loading">åŠ è½½ä¸­...</td></tr>
<tr><td>02840</td><td>é»„é‡‘ETF</td><td>21428.57</td><td>7.00</td><td class="loading">åŠ è½½ä¸­...</td><td>150000.00</td><td class="loading">åŠ è½½ä¸­...</td><td class="loading">åŠ è½½ä¸­...</td><td class="loading">åŠ è½½ä¸­...</td></tr>
</tbody>
</table>
<div class="update-time" id="hk-update-time">æ•°æ®æ›´æ–°æ—¶é—´: 2026-02-27 04:59:33</div>
</div>
<!-- ç¾è‚¡ç»„åˆ -->
<div class="portfolio-card">
<h2 class="portfolio-title">ç¾è‚¡å…¨çƒç»„åˆï¼ˆç¾å…ƒ/100ä¸‡ä»“ä½ï¼‰</h2>
<div class="summary-row">
<div class="summary-item">
<span class="summary-label">æ€»æˆæœ¬ï¼ˆç¾å…ƒï¼‰</span>
<span class="summary-value">1000000.00</span>
</div>
<div class="summary-item">
<span class="summary-label">å½“å‰ä»·å€¼ï¼ˆç¾å…ƒï¼‰</span>
<span class="summary-value" id="us-total-value">1782476.88</span>
</div>
<div class="summary-item">
<span class="summary-label">æ€»æ”¶ç›Šï¼ˆç¾å…ƒï¼‰</span>
<span class="profit-positive" id="us-total-profit">782476.88</span>
</div>
<div class="summary-item">
<span class="summary-label">æ”¶ç›Šç‡</span>
<span class="summary-value" id="us-total-rate">78.25%</span>
</div>
</div>
<table>
<thead>
<tr>
<th>ä»£ç </th>
<th>åç§°</th>
<th>æŒä»“æ•°é‡</th>
<th>æˆæœ¬ä»·ï¼ˆç¾å…ƒï¼‰</th>
<th>å®æ—¶ä»·ï¼ˆç¾å…ƒï¼‰</th>
<th>æˆæœ¬æ€»é¢ï¼ˆç¾å…ƒï¼‰</th>
<th>å½“å‰æ€»é¢ï¼ˆç¾å…ƒï¼‰</th>
<th>æ”¶ç›Šï¼ˆç¾å…ƒï¼‰</th>
<th>æ”¶ç›Šç‡</th>
</tr>
</thead>
<tbody id="us-table">
<tr><td>QQQ</td><td>çº³æŒ‡100ETF</td><td>403.23</td><td>620.00</td><td class="loading">åŠ è½½ä¸­...</td><td>250000.00</td><td class="loading">åŠ è½½ä¸­...</td><td class="loading">åŠ è½½ä¸­...</td><td class="loading">åŠ è½½ä¸­...</td></tr>
<tr><td>SPY</td><td>æ ‡æ™®500ETF</td><td>500.00</td><td>500.00</td><td class="loading">åŠ è½½ä¸­...</td><td>250000.00</td><td class="loading">åŠ è½½ä¸­...</td><td class="loading">åŠ è½½ä¸­...</td><td class="loading">åŠ è½½ä¸­...</td></tr>
<tr><td>RING</td><td>å…¨çƒé»„é‡‘çŸ¿è‚¡ETF</td><td>5000.00</td><td>40.00</td><td class="loading">åŠ è½½ä¸­...</td><td>200000.00</td><td class="loading">åŠ è½½ä¸­...</td><td class="loading">åŠ è½½ä¸­...</td><td class="loading">åŠ è½½ä¸­...</td></tr>
<tr><td>COPX</td><td>å…¨çƒé“œçŸ¿è‚¡ETF</td><td>6666.67</td><td>30.00</td><td class="loading">åŠ è½½ä¸­...</td><td>200000.00</td><td class="loading">åŠ è½½ä¸­...</td><td class="loading">åŠ è½½ä¸­...</td><td class="loading">åŠ è½½ä¸­...</td></tr>
<tr><td>BITB</td><td>å¤§é¥¼ETF</td><td>2040.82</td><td>49.00</td><td class="loading">åŠ è½½ä¸­...</td><td>100000.00</td><td class="loading">åŠ è½½ä¸­...</td><td class="loading">åŠ è½½ä¸­...</td><td class="loading">åŠ è½½ä¸­...</td></tr>
</tbody>
</table>
<div class="update-time" id="us-update-time">æ•°æ®æ›´æ–°æ—¶é—´: 2026-02-27 04:59:37</div>
</div>
</div>
<script>
        // å›ºå®šé…ç½®
        const PORTFOLIOS = {
            a: {
                totalCost: 1000000,
                funds: [
                    { code: "513390", market: "sh", hold: 119047.62, costPrice: 2.10, costTotal: 250000.00 },
                    { code: "159652", market: "sz", hold: 35260.93, costPrice: 7.09, costTotal: 250000.00 },
                    { code: "588200", market: "sh", hold: 23300.00, costPrice: 10.73, costTotal: 250000.00 },
                    { code: "515880", market: "sh", hold: 29469.55, costPrice: 5.09, costTotal: 150000.00 },
                    { code: "518880", market: "sh", hold: 22727.27, costPrice: 4.40, costTotal: 100000.00 }
                ]
            },
            hk: {
                totalCost: 1000000,
                funds: [
                    { code: "03455", market: "hk", hold: 25000.00, costPrice: 10.00, costTotal: 250000.00 },
                    { code: "03132", market: "hk", hold: 25000.00, costPrice: 8.00, costTotal: 200000.00 },
                    { code: "03147", market: "hk", hold: 40000.00, costPrice: 5.00, costTotal: 200000.00 },
                    { code: "03110", market: "hk", hold: 33333.33, costPrice: 6.00, costTotal: 200000.00 },
                    { code: "02840", market: "hk", hold: 21428.57, costPrice: 7.00, costTotal: 150000.00 }
                ]
            },
            us: {
                totalCost: 1000000,
                funds: [
                    { code: "QQQ", market: "us", hold: 403.23, costPrice: 620.00, costTotal: 250000.00 },
                    { code: "SPY", market: "us", hold: 500.00, costPrice: 500.00, costTotal: 250000.00 },
                    { code: "RING", market: "us", hold: 5000.00, costPrice: 40.00, costTotal: 200000.00 },
                    { code: "COPX", market: "us", hold: 6666.67, costPrice: 30.00, costTotal: 200000.00 },
                    { code: "BITB", market: "us", hold: 2040.82, costPrice: 49.00, costTotal: 100000.00 }
                ]
            }
        };

        // è·å–å®æ—¶ä»·æ ¼ï¼ˆç”¨å…è´¹çš„æ–°æµªæ¥å£ï¼ŒJSONPæ–¹å¼é¿å…è·¨åŸŸï¼‰
        async function getPrice(fund) {
            return new Promise((resolve) => {
                let url, code;
                if (fund.market === "sh") {
                    code = `sh${fund.code}`;
                } else if (fund.market === "sz") {
                    code = `sz${fund.code}`;
                } else if (fund.market === "hk") {
                    code = `rt_hk${fund.code}`;
                } else {
                    code = `gb_${fund.code.toLowerCase()}`;
                }
                url = `https://hq.sinajs.cn/list=${code}`;

                // åˆ›å»ºscriptæ ‡ç­¾å®ç°JSONP
                const script = document.createElement('script');
                script.src = url;
                script.onload = () => {
                    try {
                        let price = fund.costPrice;
                        if (fund.market === "hk") {
                            const data = window[`hq_str_rt_hk${fund.code}`];
                            if (data) {
                                const arr = data.split(",");
                                if (arr.length > 6 && arr[6]) price = parseFloat(arr[6]);
                            }
                        } else if (fund.market === "us") {
                            const data = window[`hq_str_gb_${fund.code.toLowerCase()}`];
                            if (data) {
                                const arr = data.split(",");
                                if (arr.length > 1 && arr[1]) price = parseFloat(arr[1]);
                            }
                        } else {
                            const data = window[`hq_str_${code}`];
                            if (data) {
                                const arr = data.split(",");
                                if (arr.length > 3 && arr[3]) price = parseFloat(arr[3]);
                            }
                        }
                        document.body.removeChild(script);
                        resolve(price);
                    } catch (e) {
                        resolve(fund.costPrice);
                    }
                };
                script.onerror = () => {
                    resolve(fund.costPrice);
                };
                document.body.appendChild(script);
            });
        }

        // æ›´æ–°é¡µé¢
        async function updatePortfolio(type) {
            const portfolio = PORTFOLIOS[type];
            const table = document.getElementById(`${type}-table`);
            const rows = table.querySelectorAll("tr");
            let totalCurrent = 0;
            let totalProfit = 0;

            for (let i = 0; i < portfolio.funds.length; i++) {
                const fund = portfolio.funds[i];
                const row = rows[i];
                const cells = row.querySelectorAll("td");
                
                // è·å–å®æ—¶ä»·æ ¼
                const currentPrice = await getPrice(fund);
                const currentTotal = fund.hold * currentPrice;
                const profit = currentTotal - fund.costTotal;
                const profitRate = fund.costTotal !== 0 ? (profit / fund.costTotal) * 100 : 0;

                // æ›´æ–°è¡¨æ ¼
                cells[4].textContent = currentPrice < 10 ? currentPrice.toFixed(3) : currentPrice.toFixed(2);
                cells[4].classList.remove("loading");
                cells[6].textContent = currentTotal.toFixed(2);
                cells[6].classList.remove("loading");
                cells[7].textContent = profit.toFixed(2);
                cells[7].className = profit >= 0 ? "profit-positive" : "profit-negative";
                cells[8].textContent = profitRate.toFixed(2) + "%";
                cells[8].className = profitRate >= 0 ? "profit-positive" : "profit-negative";

                totalCurrent += currentTotal;
                totalProfit += profit;
            }

            // æ›´æ–°æ€»è®¡
            const totalRate = portfolio.totalCost !== 0 ? (totalProfit / portfolio.totalCost) * 100 : 0;
            document.getElementById(`${type}-total-value`).textContent = totalCurrent.toFixed(2);
            document.getElementById(`${type}-total-value`).classList.remove("loading");
            document.getElementById(`${type}-total-profit`).textContent = totalProfit.toFixed(2);
            document.getElementById(`${type}-total-profit`).className = totalProfit >= 0 ? "profit-positive" : "profit-negative";
            document.getElementById(`${type}-total-rate`).textContent = totalRate.toFixed(2) + "%";
            document.getElementById(`${type}-total-rate`).className = totalRate >= 0 ? "profit-positive" : "profit-negative";
            document.getElementById(`${type}-update-time`).textContent = `æ•°æ®æ›´æ–°æ—¶é—´: ${new Date().toLocaleString("zh-CN")}`;
        }

        // é¡µé¢åŠ è½½å®Œæˆåæ›´æ–°æ‰€æœ‰ç»„åˆ
        window.onload = async () => {
            await updatePortfolio("a");
            await updatePortfolio("hk");
            await updatePortfolio("us");
        };
    </script>
</body>
</html>
